<p id="notice"><%= notice %></p>

<h1><%= t('recipes.name') %> <span><%= @dish.name %></span></h1>

<table>
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @recipes.each do |recipe| %>
      <tr>
        <td><%= recipe.product.name %></td>
        <td><%= recipe.quantity %> <%= recipe.product.unit %></td>
        <td><%= link_to 'Show', dish_recipe_path(@dish, recipe) %></td>
        <td>
          <% if can?(:update, recipe)  %>
            <%= link_to 'Edit', edit_dish_recipe_path(@dish, recipe) %>
          <% end %>
        </td>
        <td>
          <% if can?(:destroy, recipe)  %>
            <%= link_to 'Destroy',
                          dish_recipe_path(@dish, recipe),
                          method: :delete,
                          data: { confirm: 'Are you sure?' } %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% if can?(:create, Recipe)  %>
  <%= link_to t('recipes.view.add'), new_dish_recipe_path(@dish) %> |
<% end %>

<%= link_to 'Back', dish_path(@dish) %>
